{"version":3,"file":"component.select-field.mjs","sources":["../node_modules/tslib/tslib.es6.js","../source/library/fn.checkFalsy.ts","../source/library/fn.checkTruth.ts","../source/library/fn.initShadowRoot.ts","../source/library/fn.isObject.ts","../source/library/fn.updateAttributes.ts","../source/settings.ts","../source/library/fn.generateID.ts","../source/element/Listbox/index.ts","../source/component/SelectField/template.pug","../source/component/SelectField/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","import { Primitive } from '#types'\r\n\r\nexport const checkFalsy = (value: Primitive | null): boolean => {\r\n\treturn typeof value === 'string'\r\n\t\t? ['off', 'false'].includes(value.trim().toLocaleLowerCase())\r\n\t\t: false === Boolean(value)\r\n}\r\n\r\nexport default checkFalsy\r\n","import { Primitive } from '#types'\r\n\r\nexport const checkTruth = (value: Primitive | null): boolean => {\r\n\treturn typeof value === 'string'\r\n\t\t? ['on', 'true'].includes(value.trim().toLocaleLowerCase())\r\n\t\t: Boolean(value)\r\n}\r\n\r\nexport default checkTruth\r\n","type InitShadowRootOptions = {\r\n\t$template?: DocumentFragment\r\n\ttemplate?: string\r\n\tdelegatesFocus?: boolean\r\n\tserializable?: boolean\r\n\tmode?: ShadowRoot['mode']\r\n\tslotAssignment?: ShadowRoot['slotAssignment']\r\n}\r\n\r\nfunction initShadowRoot(this: HTMLElement, options: InitShadowRootOptions) {\r\n\tconst {\r\n\t\t$template,\r\n\t\ttemplate,\r\n\t\tdelegatesFocus = false,\r\n\t\tmode = 'closed',\r\n\t\tserializable = false,\r\n\t} = options\r\n\r\n\tconst shadowRoot = this.attachShadow({\r\n\t\tdelegatesFocus,\r\n\t\tmode,\r\n\t\tserializable,\r\n\t})\r\n\r\n\t// 1.\r\n\r\n\tif ($template instanceof DocumentFragment)\r\n\t\tshadowRoot.appendChild($template.cloneNode(true))\r\n\r\n\t// 2.\r\n\r\n\tif (typeof template === 'string') shadowRoot.setHTMLUnsafe(template)\r\n\r\n\treturn shadowRoot\r\n}\r\n\r\nexport default initShadowRoot\r\n","function isObject(value: unknown): boolean {\r\n\tvar type = typeof value\r\n\treturn !!value && (type == 'object' || type == 'function')\r\n}\r\n\r\nexport default isObject\r\n","import isObject from './fn.isObject'\r\n\r\nimport type { Primitive } from '#types'\r\n\r\nfunction updateAttributes(\r\n\telement: HTMLElement,\r\n\tobjectOrAttrName: string | object,\r\n\tattrValue?: Primitive | null,\r\n): Map<string, Attr | null> {\r\n\tconst pairs = isObject(objectOrAttrName)\r\n\t\t? Object.entries(objectOrAttrName)\r\n\t\t: [[objectOrAttrName, attrValue]]\r\n\r\n\tpairs.forEach(([key, value]) => {\r\n\t\tconst attrName = String(key)\r\n\t\tif (value === null) element.removeAttribute(attrName)\r\n\t\telse if (value instanceof Attr) element.setAttributeNode(value)\r\n\t\telse {\r\n\t\t\tconst attr = element.getAttributeNode(attrName)\r\n\t\t\tconst attrValue = String(value)\r\n\t\t\tif (attr !== null) attr.value = attrValue\r\n\t\t\telse element.setAttribute(attrName, attrValue)\r\n\t\t}\r\n\t})\r\n\r\n\treturn new Map(\r\n\t\telement\r\n\t\t\t.getAttributeNames()\r\n\t\t\t.sort()\r\n\t\t\t.map((name) => [name, element.getAttributeNode(name)]),\r\n\t)\r\n}\r\n\r\nexport default updateAttributes\r\n","export enum ComponentState {\r\n\tAnimation = '--animating',\r\n\tDefined = '--defined',\r\n\tInteractive = '--interactive',\r\n\tLoaded = '--loaded',\r\n}\r\n\r\nexport enum ComboboxState {\r\n\tCollapsed = '--collapsed',\r\n\tExpanded = '--expanded',\r\n}\r\n\r\nexport enum FieldState {\r\n\tDisabled = '--disabled',\r\n}\r\n","const chars = 'abekmhopctyx123456789'\r\n\r\nconst generateID = (properties?: Props): string => {\r\n\tconst { prefix, suffix, length = 6, checklist } = properties ?? {}\r\n\tlet result: string\r\n\tdo {\r\n\t\tresult = ''\r\n\t\tfor (let i = 0; i < length; i++) {\r\n\t\t\tresult += chars.charAt((Math.random() * chars.length) | 0)\r\n\t\t}\r\n\t\tif (prefix) result = prefix + '-' + result\r\n\t\tif (suffix) result += '-' + suffix\r\n\t} while (checklist?.includes(result))\r\n\treturn result\r\n}\r\n\r\ntype Props = {\r\n\tprefix?: string\r\n\tsuffix?: string\r\n\tlength?: number\r\n\tchecklist?: Array<string> | null\r\n}\r\n\r\nexport default generateID\r\n","import checkFalsy from '#library/fn.checkFalsy'\r\nimport checkTruth from '#library/fn.checkTruth'\r\nimport generateID from '#library/fn.generateID'\r\nimport initShadowRoot from '#library/fn.initShadowRoot'\r\nimport updateAttributes from '#library/fn.updateAttributes'\r\n\r\nimport { FieldState } from '#settings'\r\n\r\nimport type { Option } from './types'\r\n\r\nexport type { Option }\r\n\r\nconst template = '<slot part=\"container\"></slot>'\r\n\r\nexport class ListboxElement extends HTMLElement {\r\n\t#activeIndex: number = -1\r\n\t#selectedIndex: number = -1\r\n\t#internals: ElementInternals = this.attachInternals()\r\n\t#hashmap: Map<string, Option> = new Map()\r\n\t#ownsIDs: string[] | null = null\r\n\r\n\t#focusCont: AbortController\r\n\t#interCont: AbortController\r\n\t#slotChangeCont: AbortController\r\n\r\n\tariaActiveDescendantElement: HTMLElement | null = null\r\n\r\n\tstatic formAssociated = true\r\n\tstatic role = 'listbox'\r\n\tstatic tagName = 'e-listbox'\r\n\r\n\tstatic observedAttributes = [\r\n\t\t'aria-activedescendant',\r\n\t\t'aria-disabled',\r\n\t\t'aria-multiselectable',\r\n\t\t'aria-required',\r\n\t]\r\n\r\n\tstatic initAttributes($element: ListboxElement) {\r\n\t\tconst attrs = {\r\n\t\t\t'aria-orientation': $element.ariaOrientation ?? 'vertical',\r\n\t\t\texportparts: 'container',\r\n\t\t\trole: this.role,\r\n\t\t}\r\n\t\treturn updateAttributes($element, attrs)\r\n\t}\r\n\r\n\tstatic initAccessibilityTree(\r\n\t\telement: ListboxElement,\r\n\t\tinternals: ElementInternals,\r\n\t) {\r\n\t\tinternals.ariaAtomic = 'true'\r\n\t\tinternals.ariaLive = 'polite'\r\n\t\tinternals.role = this.role\r\n\r\n\t\tinternals.ariaDisabled = checkTruth(element.ariaDisabled).toString()\r\n\t\tinternals.ariaRequired = checkTruth(element.ariaRequired).toString()\r\n\t\tinternals.ariaMultiSelectable = checkTruth(\r\n\t\t\telement.ariaMultiSelectable,\r\n\t\t).toString()\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper()\r\n\t\tinitShadowRoot.call(this, {\r\n\t\t\ttemplate,\r\n\t\t})\r\n\t\tListboxElement.initAttributes(this)\r\n\t\tthis.#listenAssignedNodes()\r\n\t}\r\n\r\n\tattributeChangedCallback(name, previous, current) {\r\n\t\tif (false === this.isConnected) return\r\n\t\tif (previous === current) return\r\n\r\n\t\tconst $element =\r\n\t\t\t(this.#hashmap.has(current) &&\r\n\t\t\t\tthis.#hashmap.get(current)?.$ref.deref()) ||\r\n\t\t\tnull\r\n\t\tconst isTruth = checkTruth(current)\r\n\r\n\t\tswitch (name) {\r\n\t\t\tcase 'aria-activedescendant':\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tthis.#internals.ariaActiveDescendantElement = $element\r\n\t\t\t\tbreak\r\n\t\t\tcase 'aria-disabled':\r\n\t\t\t\tif (isTruth) {\r\n\t\t\t\t\tthis.#states.add(FieldState.Disabled)\r\n\t\t\t\t\tthis.#interCont?.abort()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.#states.delete(FieldState.Disabled)\r\n\t\t\t\t}\r\n\t\t\t\tthis.#internals.ariaDisabled = current\r\n\t\t\t\tbreak\r\n\t\t\tcase 'aria-multiselectable':\r\n\t\t\t\tthis.#internals.ariaMultiSelectable = isTruth.toString()\r\n\t\t\t\tbreak\r\n\t\t\tcase 'aria-required':\r\n\t\t\t\tthis.#internals.ariaRequired = isTruth.toString()\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t}\r\n\r\n\t\tthis.#log('Attribute Changed', name, previous, current)\r\n\t}\r\n\r\n\tconnectedCallback() {\r\n\t\tListboxElement.initAttributes(this)\r\n\t\tListboxElement.initAccessibilityTree(this, this.#internals)\r\n\t\tthis.#listenFocus()\r\n\t}\r\n\r\n\tdisconnectedCallback() {\r\n\t\tthis.#interCont?.abort()\r\n\t\tthis.#focusCont?.abort()\r\n\t\tthis.#slotChangeCont?.abort()\r\n\t}\r\n\r\n\tformAssociatedCallback(form_) { }\r\n\tformDisabledCallback(state_) { }\r\n\tformResetCallback() { }\r\n\tformStateRestoreCallback(state_, reason_) { }\r\n\r\n\t/**\r\n\t * Returns an first option wich value is fully equal to the query string.\r\n\t */\r\n\tfindByValue(query: string): Option | null {\r\n\t\tfor (const [id_, option] of this.#hashmap) {\r\n\t\t\tif (query === option.value) return option\r\n\t\t}\r\n\t\treturn null\r\n\t}\r\n\r\n\t/**\r\n\t * Сall returns array of options for wich the query string is started substring of the label or value option.\r\n\t * @todo Check requirements for returned result\r\n\t */\r\n\tsearch(query: string) {\r\n\t\tconst result = new Set<Option>()\r\n\t\tfor (const [id_, option] of this.#hashmap)\r\n\t\t\tif (\r\n\t\t\t\t0 === option.label?.indexOf(query) ||\r\n\t\t\t\t0 === option.value?.indexOf(query)\r\n\t\t\t)\r\n\t\t\t\tresult.add(option)\r\n\t\treturn result.size > 0 ? result : null\r\n\t}\r\n\r\n\tselect($element: HTMLElement | null): boolean\r\n\tselect(identifier: string): boolean\r\n\tselect(param: unknown): boolean {\r\n\t\tlet $element: HTMLElement | undefined\r\n\r\n\t\tif (param instanceof HTMLElement) $element = param\r\n\t\telse if (typeof param === 'string') {\r\n\t\t\tconst option = this.#hashmap.get(param)\r\n\t\t\tif (option !== undefined) $element = option.$ref.deref()\r\n\t\t}\r\n\r\n\t\tif ($element !== undefined) {\r\n\t\t\treturn this.#selectElement($element)\r\n\t\t} else return false\r\n\t}\r\n\r\n\tshift(offset: number) {\r\n\t\tthis.activeIndex =\r\n\t\t\t(((this.#activeIndex + offset) % this.length) + this.length) %\r\n\t\t\tthis.length\r\n\t\treturn this\r\n\t}\r\n\r\n\t#initOptionAttributes($element: HTMLElement) {\r\n\t\tconst attrs = {\r\n\t\t\t'aria-selected': $element.ariaSelected ?? 'false',\r\n\t\t\tid: $element.id,\r\n\t\t}\r\n\r\n\t\t// [id]\r\n\r\n\t\tif (false === Boolean(attrs.id)) {\r\n\t\t\tattrs.id = generateID({\r\n\t\t\t\tprefix: 'option',\r\n\t\t\t\tchecklist: this.#ownsIDs,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// [onclick]\r\n\r\n\t\t$element.onclick = (event: MouseEvent) => this.#onClick(event)\r\n\r\n\t\treturn updateAttributes($element, attrs)\r\n\t}\r\n\r\n\t#selectElement($element?: HTMLElement) {\r\n\t\tif ($element !== undefined) {\r\n\t\t\tconst attr = $element.getAttributeNode('aria-selected')\r\n\t\t\tthis.#log('select element', $element, attr)\r\n\t\t\treturn attr !== null && checkFalsy(attr.value)\r\n\t\t\t\t? ((attr.value = 'true'), true)\r\n\t\t\t\t: false\r\n\t\t} else return false\r\n\t}\r\n\r\n\t#unselect($element?: HTMLElement): boolean {\r\n\t\t// 1.\r\n\t\tif ($element instanceof HTMLElement) {\r\n\t\t\t$element.setAttribute('aria-selected', 'false')\r\n\t\t\treturn true\r\n\t\t}\r\n\r\n\t\t// 2.\r\n\t\tconst $$selected = this.selectedOptions\r\n\t\tif ($$selected && $$selected.length > 0) {\r\n\t\t\tthis.selectedOptions.forEach(($element) =>\r\n\t\t\t\t$element.setAttribute('aria-selected', 'false'),\r\n\t\t\t)\r\n\t\t\treturn true\r\n\t\t}\r\n\r\n\t\treturn false\r\n\t}\r\n\r\n\tget activeIndex(): number {\r\n\t\treturn this.#activeIndex\r\n\t}\r\n\r\n\tset activeIndex(value: number) {\r\n\t\tconst current = ((value % this.length) + this.length) % this.length\r\n\t\tconst list = this.options\r\n\t\tconst previos = this.#activeIndex\r\n\r\n\t\tif (previos >= 0)\r\n\t\t\tlist[previos].$ref.deref()?.setAttribute('aria-current', 'false')\r\n\r\n\t\tconst $current = list[current].$ref.deref()\r\n\t\tif ($current !== undefined) {\r\n\t\t\t$current.setAttribute('aria-current', 'true')\r\n\t\t\tthis.#activeIndex = current\r\n\t\t\tthis.setAttribute('aria-activedescendant', $current.id)\r\n\t\t} else {\r\n\t\t\tthis.#activeIndex = -1\r\n\t\t\tthis.removeAttribute('aria-activedescendant')\r\n\t\t\tthrow new Error(\r\n\t\t\t\t`The option element by index ${current} is lost and cannot be activated!`,\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tget disabled(): boolean {\r\n\t\treturn (\r\n\t\t\tthis.#internals.states.has(FieldState.Disabled) &&\r\n\t\t\tcheckTruth(this.#internals.ariaDisabled) &&\r\n\t\t\tcheckTruth(this.ariaDisabled)\r\n\t\t)\r\n\t}\r\n\r\n\tget length(): number {\r\n\t\treturn this.#hashmap.size\r\n\t}\r\n\r\n\tget multiple(): boolean {\r\n\t\treturn checkTruth(this.ariaMultiSelectable)\r\n\t}\r\n\r\n\tget options(): Option[] {\r\n\t\treturn Array.from(this.#hashmap.values())\r\n\t}\r\n\r\n\tget selectedIndex(): number {\r\n\t\treturn this.#selectedIndex\r\n\t}\r\n\r\n\tset selectedIndex(value: number) {\r\n\t\t// 1.\r\n\t\tconst previos =\r\n\t\t\tthis.selectedIndex === -1\r\n\t\t\t\t? null\r\n\t\t\t\t: this.options[this.selectedIndex].value\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew InputEvent('beforeinput', { bubbles: true, data: previos }),\r\n\t\t)\r\n\r\n\t\t// 2.\r\n\t\tlet index: number\r\n\t\tif (value === -1) {\r\n\t\t\tindex = value\r\n\t\t\tthis.#unselect()\r\n\t\t} else {\r\n\t\t\tindex = ((value % this.length) + this.length) % this.length\r\n\t\t\tif (this.multiple === false) this.#unselect()\r\n\t\t\tconst $element = this.options[index].$ref.deref()\r\n\t\t\tthis.#selectElement($element)\r\n\t\t}\r\n\t\tthis.#selectedIndex = index\r\n\r\n\t\t// 3.\r\n\t\tconst current = index === -1 ? null : this.options[index].value\r\n\t\tthis.dispatchEvent(\r\n\t\t\tnew InputEvent('input', { bubbles: true, data: current }),\r\n\t\t)\r\n\t}\r\n\r\n\tget selectedOptions(): HTMLElement[] | null {\r\n\t\tconst $$elements: Array<HTMLElement> = []\r\n\t\tfor (const { $ref } of this.#hashmap.values()) {\r\n\t\t\tconst $element = $ref.deref()\r\n\t\t\tif ($element && checkTruth($element.ariaSelected)) {\r\n\t\t\t\t$$elements.push($element)\r\n\t\t\t\tif (this.multiple === false) return $$elements\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn $$elements.length > 0 ? $$elements : null\r\n\t}\r\n\r\n\tget value(): string | string[] | null {\r\n\t\tconst values = this.selectedOptions\r\n\t\t\t?.map(($element) => this.#hashmap.get($element.id)?.value)\r\n\t\t\t.filter((value) => typeof value === 'string')\r\n\t\treturn values ? (this.multiple ? values : values[0]) : null\r\n\t}\r\n\r\n\tget #states(): CustomStateSet {\r\n\t\treturn this.#internals.states\r\n\t}\r\n\r\n\t#listenAssignedNodes(): AbortController {\r\n\t\tthis.#slotChangeCont?.abort()\r\n\t\tthis.#slotChangeCont = new AbortController()\r\n\r\n\t\tthis.addEventListener(\r\n\t\t\t'slotchange',\r\n\t\t\t(event) => {\r\n\t\t\t\t// 1.\r\n\t\t\t\tconst $$elements = (\r\n\t\t\t\t\tevent.target as HTMLSlotElement\r\n\t\t\t\t).assignedElements({ flatten: true }) as HTMLElement[]\r\n\r\n\t\t\t\t// 2.\r\n\t\t\t\tthis.#hashmap.clear()\r\n\t\t\t\t$$elements.forEach(($element) => {\r\n\t\t\t\t\tif ($element.role === 'option') {\r\n\t\t\t\t\t\tthis.#initOptionAttributes($element)\r\n\r\n\t\t\t\t\t\tconst option = {\r\n\t\t\t\t\t\t\t$ref: new WeakRef($element),\r\n\t\t\t\t\t\t\tlabel: $element.ariaLabel || $element.textContent,\r\n\t\t\t\t\t\t\tvalue:\r\n\t\t\t\t\t\t\t\t$element.dataset.value ??\r\n\t\t\t\t\t\t\t\t$element.getAttribute('value'),\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.#hashmap.set($element.id, option)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// 3.\r\n\t\t\t\tif (this.#hashmap.size > 0) {\r\n\t\t\t\t\tthis.#ownsIDs = Array.from(this.#hashmap.keys())\r\n\t\t\t\t\tthis.setAttribute('aria-owns', this.#ownsIDs.join(' '))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.#ownsIDs = null\r\n\t\t\t\t\tthis.removeAttribute('aria-owns')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tsignal: this.#slotChangeCont.signal,\r\n\t\t\t},\r\n\t\t)\r\n\r\n\t\treturn this.#slotChangeCont\r\n\t}\r\n\r\n\t#listenFocus() {\r\n\t\tthis.#focusCont?.abort()\r\n\t\tthis.#focusCont = new AbortController()\r\n\r\n\t\tconst options = {\r\n\t\t\tsignal: this.#focusCont.signal,\r\n\t\t}\r\n\r\n\t\tthis.addEventListener('focus', (e) => this.#onFocus(e), options)\r\n\t\tthis.addEventListener('blur', (e) => this.#onBlur(e), options)\r\n\r\n\t\treturn this.#focusCont\r\n\t}\r\n\r\n\t#onBlur(event: FocusEvent) {\r\n\t\tthis.#interCont?.abort()\r\n\t\tthis.#log(`event:${event.type}`)\r\n\t}\r\n\r\n\t#onFocus(event: FocusEvent) {\r\n\t\tthis.#listenInteraction()\r\n\t\tif (this.#activeIndex < 0) this.#activeIndex = 0\r\n\t\tthis.#log(`event:${event.type}`)\r\n\t}\r\n\r\n\t#listenInteraction(): AbortController {\r\n\t\tthis.#interCont?.abort()\r\n\t\tthis.#interCont = new AbortController()\r\n\r\n\t\tthis.addEventListener('click', (e) => this.#onClick(e), {\r\n\t\t\tsignal: this.#interCont.signal,\r\n\t\t})\r\n\r\n\t\tthis.addEventListener('keydown', (e) => this.#onKeyDown(e), {\r\n\t\t\tsignal: this.#interCont.signal,\r\n\t\t})\r\n\r\n\t\treturn this.#interCont\r\n\t}\r\n\r\n\t#onClick(event: MouseEvent) {\r\n\t\tevent.stopPropagation()\r\n\t\tconst $target = event.currentTarget as HTMLElement\r\n\t\tthis.selectedIndex = this.activeIndex =\r\n\t\t\tthis.#ownsIDs?.indexOf($target.id) ?? -1\r\n\t\tthis.#log(`event:${event.type}`)\r\n\t}\r\n\r\n\t#onKeyDown(event: KeyboardEvent) {\r\n\t\tswitch (event.key) {\r\n\t\t\tcase 'Enter':\r\n\t\t\t\tthis.selectedIndex = this.activeIndex\r\n\t\t\t\tevent.stopPropagation()\r\n\t\t\t\tbreak\r\n\t\t\tcase 'Space':\r\n\t\t\t\tif (this.selectedIndex === this.activeIndex) {\r\n\t\t\t\t\tthis.selectedIndex = this.activeIndex\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.selectedIndex = this.activeIndex\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase 'End':\r\n\t\t\t\tthis.activeIndex = this.length - 1\r\n\t\t\t\tbreak\r\n\t\t\tcase 'Home':\r\n\t\t\t\tthis.activeIndex = 0\r\n\t\t\t\tbreak\r\n\t\t\tcase 'ArrowUp':\r\n\t\t\t\tif (this.#activeIndex) {\r\n\t\t\t\t\tif (event.altKey) this.activeIndex = 0\r\n\t\t\t\t\telse this.shift(-1)\r\n\t\t\t\t\tevent.stopPropagation()\r\n\t\t\t\t}\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\tbreak\r\n\t\t\tcase 'ArrowDown':\r\n\t\t\t\tif (event.altKey) this.activeIndex = this.length - 1\r\n\t\t\t\telse this.shift(1)\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tif (/\\w+/.test(event.key)) {\r\n\t\t\t\t\t// TODO\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.#log(\r\n\t\t\t`event:${event.type}`,\r\n\t\t\tthis.#internals.shadowRoot?.activeElement,\r\n\t\t\tthis.#activeIndex,\r\n\t\t)\r\n\t}\r\n\r\n\t#log(label: string, ...args) {\r\n\t\tconsole.groupCollapsed(`ListboxElement: ${label}`)\r\n\t\targs.length > 0 && console.log('Arguments: ', args)\r\n\t\tconsole.table(this.#hashmap)\r\n\t\tconsole.debug(this.#internals)\r\n\t\tconsole.dir(this)\r\n\t\tconsole.groupEnd()\r\n\t}\r\n}\r\n\r\ncustomElements.define(ListboxElement.tagName, ListboxElement)\r\nexport default customElements.get(ListboxElement.tagName)\r\n","link(\r\n\thref=\"http://assets.protosite.rocks/core/select-field.css\"\r\n\trel=\"stylesheet\"\r\n\ttype=\"text/css\"\r\n)\r\nstyle(type=\"text/css\").\r\n\t:host(:state(--defined)) {\r\n\t\tcontent-visibility: hidden;\r\n\t}\r\n\t:host(:state(--loaded)) {\r\n\t\tcontent-visibility: visible;\r\n\t}\r\ndiv(\r\n\taria-controls=\"listbox\"\r\n\tid=\"button\"\r\n\trole=\"button\"\r\n\ttabindex=\"0\"\r\n)\r\n\tdiv(\r\n\t\taria-placeholder=\"Выбрать...\"\r\n\t\tpart=\"selectedcontent\"\r\n\t\tid=\"status\"\r\n\t\trole=\"status\"\r\n\t)\r\ne-listbox(\r\n\taria-labelledby=\"button\"\r\n\tid=\"listbox\"\r\n\tpart=\"listbox\"\r\n\ttabindex=\"1\"\r\n)\r\n\tslot","import checkFalsy from '#library/fn.checkFalsy'\r\nimport checkTruth from '#library/fn.checkTruth'\r\nimport initShadowRoot from '#library/fn.initShadowRoot'\r\nimport updateAttributes from '#library/fn.updateAttributes'\r\n\r\nimport { ComboboxState, ComponentState, FieldState } from '#settings'\r\nimport { ListboxElement, type Option } from '#element/Listbox/index'\r\n\r\nimport template from './template.pug'\r\n\r\ntype InitAttributesOptions = {\r\n\tshadowRoot?: ShadowRoot\r\n\tinternals?: ElementInternals\r\n}\r\n\r\ntype InitAccessibilityTreeOptions = {\r\n\t$listbox: ListboxElement\r\n\t$status: HTMLElement\r\n\tinternals: ElementInternals\r\n}\r\n\r\nclass SelectField extends HTMLElement {\r\n\t#$root: ShadowRoot\r\n\t#internals: ElementInternals = this.attachInternals()\r\n\t#observer: MutationObserver | undefined\r\n\r\n\t#focusCont: AbortController\r\n\t#interCont: AbortController\r\n\t#passingCont: AbortController\r\n\t#slotChangeCont: AbortController\r\n\r\n\tstatic formAssociated = true\r\n\tstatic role = 'combobox'\r\n\tstatic tagName = 'c-select-field'\r\n\r\n\tstatic observedAttributes = [\r\n\t\t'aria-disabled',\r\n\t\t'aria-expanded',\r\n\t\t'aria-multiselectable',\r\n\t\t'aria-required',\r\n\t]\r\n\r\n\tstatic initAttributes(\r\n\t\telement: SelectField,\r\n\t\toptions: InitAttributesOptions,\r\n\t) {\r\n\t\tconst data = {\r\n\t\t\t'aria-atomic': true,\r\n\t\t\t'aria-expanded': false,\r\n\t\t\texportparts: element.getAttribute('exportparts'),\r\n\t\t\tid: element.id,\r\n\t\t\trole: this.role,\r\n\t\t\ttabIndex: <number>element.tabIndex,\r\n\t\t}\r\n\r\n\t\tconst { internals, shadowRoot } = options\r\n\r\n\t\t// [exportparts]\r\n\r\n\t\tif (checkFalsy(data.exportparts) && shadowRoot instanceof ShadowRoot) {\r\n\t\t\tconst $$parts = shadowRoot.querySelectorAll('[part]')\r\n\r\n\t\t\tif ($$parts.length) {\r\n\t\t\t\tdata.exportparts = Array.from($$parts)\r\n\t\t\t\t\t.map(($elem) => $elem.part.toString())\r\n\t\t\t\t\t.join(' ')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// [id]\r\n\r\n\t\tif (checkFalsy(data.id) && element.isConnected) {\r\n\t\t\tdata.id = [this.role, Math.round(performance.now())].join('-')\r\n\t\t}\r\n\r\n\t\t// [tabindex]\r\n\r\n\t\tif (\r\n\t\t\telement.isConnected &&\r\n\t\t\tdata.tabIndex < 0 &&\r\n\t\t\tinternals instanceof ElementInternals &&\r\n\t\t\tinternals.form instanceof HTMLElement\r\n\t\t) {\r\n\t\t\tdata.tabIndex = 0\r\n\t\t}\r\n\r\n\t\treturn updateAttributes(element, data)\r\n\t}\r\n\r\n\tstatic initAccessibilityTree(\r\n\t\telement: SelectField,\r\n\t\toptions: InitAccessibilityTreeOptions,\r\n\t) {\r\n\t\tconst { internals, $listbox, $status } = options\r\n\r\n\t\t// Properties\r\n\r\n\t\tinternals.ariaAtomic = 'true'\r\n\t\tinternals.ariaHasPopup = 'listbox'\r\n\t\tinternals.ariaLive = 'polite'\r\n\t\tinternals.role = this.role\r\n\r\n\t\t// States\r\n\r\n\t\tinternals.ariaDisabled = checkTruth(element.ariaDisabled).toString()\r\n\t\tinternals.ariaExpanded = checkTruth(element.ariaExpanded).toString()\r\n\t\tinternals.ariaRequired = checkTruth(element.ariaRequired).toString()\r\n\t\tinternals.ariaMultiSelectable = checkTruth(\r\n\t\t\telement.ariaMultiSelectable,\r\n\t\t).toString()\r\n\r\n\t\t$listbox.ariaMultiSelectable = internals.ariaMultiSelectable\r\n\t\t$status.ariaLabel = element.ariaLabel\r\n\t\t$status.ariaPlaceholder = element.ariaPlaceholder\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper()\r\n\t\tthis.#$root = initShadowRoot.call(this, {\r\n\t\t\ttemplate,\r\n\t\t\tdelegatesFocus: true,\r\n\t\t})\r\n\t\tSelectField.initAttributes(this, {\r\n\t\t\tshadowRoot: this.#$root,\r\n\t\t})\r\n\t\tthis.#states.add(ComponentState.Defined)\r\n\t}\r\n\r\n\tattributeChangedCallback(name, previous, current) {\r\n\t\tif (false === this.isConnected) return\r\n\t\tif (previous === current) return\r\n\r\n\t\tconst isTruth = checkTruth(current)\r\n\t\tconst isFalsy = checkFalsy(current)\r\n\r\n\t\tswitch (name) {\r\n\t\t\tcase 'aria-disabled':\r\n\t\t\t\tif (isTruth) {\r\n\t\t\t\t\tthis.#states.add(FieldState.Disabled)\r\n\t\t\t\t\tthis.#interCont?.abort()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.#states.delete(FieldState.Disabled)\r\n\t\t\t\t}\r\n\t\t\t\tthis.#internals.ariaDisabled = isTruth.toString()\r\n\t\t\t\tbreak\r\n\t\t\tcase 'aria-expanded':\r\n\t\t\t\tthis.#states.delete(\r\n\t\t\t\t\tisFalsy ? ComboboxState.Expanded : ComboboxState.Collapsed,\r\n\t\t\t\t)\r\n\t\t\t\tthis.#states.add(\r\n\t\t\t\t\tisTruth ? ComboboxState.Expanded : ComboboxState.Collapsed,\r\n\t\t\t\t)\r\n\t\t\t\tthis.#internals.ariaExpanded = isTruth.toString()\r\n\t\t\t\tbreak\r\n\t\t\tcase 'aria-multiselectable':\r\n\t\t\t\tthis.#internals.ariaMultiSelectable = isTruth.toString()\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t}\r\n\r\n\t\tthis.#log('Attribute Changed', name, previous, current)\r\n\t}\r\n\r\n\tconnectedCallback() {\r\n\t\t// (1)\r\n\t\tSelectField.initAttributes(this, {\r\n\t\t\tinternals: this.#internals,\r\n\t\t})\r\n\t\tSelectField.initAccessibilityTree(this, {\r\n\t\t\t$listbox: this.#$listbox,\r\n\t\t\t$status: this.#$status,\r\n\t\t\tinternals: this.#internals,\r\n\t\t})\r\n\r\n\t\t// (2)\r\n\t\tthis.#listenFocus()\r\n\t\tthis.#listenInput()\r\n\t\tthis.#listenMutations()\r\n\t\tthis.#states.add(ComponentState.Interactive)\r\n\r\n\t\t// (3)\r\n\t\tconst link = this.#$root.querySelector('link')\r\n\t\tlink && (link.onload = () => this.#states.add(ComponentState.Loaded))\r\n\r\n\t\tthis.#log('Connected Callback')\r\n\t}\r\n\r\n\tdisconnectedCallback() {\r\n\t\tthis.#focusCont?.abort()\r\n\t\tthis.#interCont?.abort()\r\n\t\tthis.#observer?.disconnect()\r\n\t\tthis.#passingCont?.abort()\r\n\t\tthis.#slotChangeCont?.abort()\r\n\t}\r\n\r\n\thidePicker() {\r\n\t\tif (this.#states.has(ComboboxState.Collapsed)) return this\r\n\t\tupdateAttributes(this, 'aria-expanded', false)\r\n\t\tthis.#$button.focus()\r\n\t\treturn this\r\n\t}\r\n\r\n\tshowPicker() {\r\n\t\tif (this.#states.has(ComboboxState.Expanded)) return this\r\n\t\tupdateAttributes(this, 'aria-expanded', true)\r\n\t\tthis.#$listbox.focus()\r\n\t\treturn this\r\n\t}\r\n\r\n\tget disabled(): boolean {\r\n\t\treturn (\r\n\t\t\tthis.#states.has(FieldState.Disabled) &&\r\n\t\t\tcheckTruth(this.#internals.ariaDisabled) &&\r\n\t\t\tcheckTruth(this.ariaDisabled)\r\n\t\t)\r\n\t}\r\n\r\n\tget expanded(): boolean {\r\n\t\treturn (\r\n\t\t\tthis.#states.has(ComboboxState.Expanded) &&\r\n\t\t\tcheckTruth(this.#internals.ariaExpanded) &&\r\n\t\t\tcheckTruth(this.ariaExpanded)\r\n\t\t)\r\n\t}\r\n\r\n\tget multiple(): boolean {\r\n\t\treturn checkTruth(this.#internals.ariaMultiSelectable)\r\n\t}\r\n\r\n\tget name(): string | null {\r\n\t\treturn (this.dataset.name || this.getAttribute('name')) ?? null\r\n\t}\r\n\r\n\tget options(): Option[] {\r\n\t\treturn this.#$listbox.options\r\n\t}\r\n\r\n\tget readonly(): boolean {\r\n\t\treturn checkTruth(this.#internals.ariaReadOnly)\r\n\t}\r\n\r\n\tget required(): boolean {\r\n\t\treturn checkTruth(this.#internals.ariaRequired)\r\n\t}\r\n\r\n\tget length(): number {\r\n\t\treturn this.#$listbox.length\r\n\t}\r\n\r\n\tget type(): string {\r\n\t\treturn 'select' + (this.multiple ? '-multiple' : '-one')\r\n\t}\r\n\r\n\tget value(): string | string[] | null {\r\n\t\treturn this.#$listbox.value\r\n\t}\r\n\r\n\tget #$button(): HTMLElement | never {\r\n\t\tconst $element = this.#$root.getElementById('button')\r\n\t\tif ($element === null)\r\n\t\t\tthrow new Error('Button element not found but required!')\r\n\t\treturn $element\r\n\t}\r\n\r\n\tget #$status(): HTMLElement | never {\r\n\t\tconst $element = this.#$root.getElementById('status')\r\n\t\tif ($element === null)\r\n\t\t\tthrow new Error(\r\n\t\t\t\t'Element of the selected content not found but required!',\r\n\t\t\t)\r\n\t\treturn $element\r\n\t}\r\n\r\n\tget #$listbox(): ListboxElement | never {\r\n\t\tconst $element = this.#$root.getElementById('listbox') as ListboxElement\r\n\t\tif ($element === null)\r\n\t\t\tthrow new Error('Listbox element not found but required!')\r\n\t\treturn $element\r\n\t}\r\n\r\n\tget #states(): CustomStateSet {\r\n\t\treturn this.#internals.states\r\n\t}\r\n\r\n\t#listenInput(): AbortController {\r\n\t\tthis.#passingCont?.abort()\r\n\t\tthis.#passingCont = new AbortController()\r\n\r\n\t\tconst options = {\r\n\t\t\tcapture: false,\r\n\t\t\tpassive: true,\r\n\t\t\tsignal: this.#passingCont.signal,\r\n\t\t}\r\n\r\n\t\tthis.#$listbox.addEventListener(\r\n\t\t\t'beforeinput',\r\n\t\t\t(e) => this.#passEventAlong(e),\r\n\t\t\toptions,\r\n\t\t)\r\n\r\n\t\tthis.#$listbox.addEventListener(\r\n\t\t\t'input',\r\n\t\t\t(e: InputEvent) => {\r\n\t\t\t\tthis.#onInput(e)\r\n\t\t\t\tthis.#passEventAlong(e)\r\n\t\t\t},\r\n\t\t\toptions,\r\n\t\t)\r\n\r\n\t\treturn this.#passingCont\r\n\t}\r\n\r\n\t#onInput(event_: InputEvent) {\r\n\t\tconst { label, value } = this.options[this.#$listbox.selectedIndex]\r\n\t\tthis.#internals.setFormValue(value)\r\n\t\tthis.#$status.innerText = label ?? ''\r\n\t\tvalue !== null && this.hidePicker()\r\n\t}\r\n\r\n\t#listenFocus(): AbortController {\r\n\t\tthis.#focusCont?.abort()\r\n\t\tthis.#focusCont = new AbortController()\r\n\r\n\t\tconst options = {\r\n\t\t\tsignal: this.#focusCont.signal,\r\n\t\t}\r\n\r\n\t\tthis.addEventListener('focus', (e) => this.#onFocus(e), options)\r\n\t\tthis.addEventListener('blur', (e) => this.#onBlur(e), options)\r\n\r\n\t\treturn this.#focusCont\r\n\t}\r\n\r\n\t#onBlur(event: FocusEvent) {\r\n\t\tthis.hidePicker()\r\n\t\tthis.#interCont?.abort()\r\n\t\tthis.#log(`event:${event.type}`)\r\n\t}\r\n\r\n\t#onFocus(event: FocusEvent) {\r\n\t\tthis.#listenInteraction()\r\n\t\tthis.#log(`event:${event.type}`)\r\n\t}\r\n\r\n\t#listenInteraction(): AbortController {\r\n\t\tthis.#interCont?.abort()\r\n\t\tthis.#interCont = new AbortController()\r\n\r\n\t\tconst options = {\r\n\t\t\tcapture: false,\r\n\t\t\tpassive: true,\r\n\t\t\tsignal: this.#interCont.signal,\r\n\t\t}\r\n\r\n\t\tthis.addEventListener('click', (e) => this.#onClick(e), options)\r\n\t\tthis.addEventListener('keydown', (e) => this.#onKeyDown(e), options)\r\n\r\n\t\tthis.#$listbox.addEventListener(\r\n\t\t\t'animationstart',\r\n\t\t\t(e) => this.#onAnimationStart(e),\r\n\t\t\toptions,\r\n\t\t)\r\n\r\n\t\treturn this.#interCont\r\n\t}\r\n\r\n\t#onAnimationEnd(event: AnimationEvent) {\r\n\t\tthis.#states.delete(ComponentState.Animation)\r\n\t\tif (this.#states.has(ComboboxState.Expanded)) this.#$listbox.focus()\r\n\t\telse this.#$button.focus()\r\n\t\tthis.#listenInteraction()\r\n\t\tthis.#log(`event:${event.type}`)\r\n\t}\r\n\r\n\t#onAnimationStart(event: AnimationEvent) {\r\n\t\tthis.#interCont?.abort()\r\n\t\tthis.#states.add(ComponentState.Animation)\r\n\t\t\t; (event.target as HTMLElement).onanimationend = (e) =>\r\n\t\t\t\tthis.#onAnimationEnd(e)\r\n\t\tthis.#log(`event:${event.type}`)\r\n\t}\r\n\r\n\t#onClick(event: MouseEvent) {\r\n\t\tthis.expanded ? this.hidePicker() : this.showPicker()\r\n\t\tthis.#log(`event:${event.type}`)\r\n\t}\r\n\r\n\t#onKeyDown(event: KeyboardEvent) {\r\n\t\tswitch (event.key) {\r\n\t\t\tcase 'ArrowDown':\r\n\t\t\tcase 'Enter':\r\n\t\t\t\tthis.showPicker()\r\n\t\t\t\tbreak\r\n\t\t\tcase 'ArrowUp':\r\n\t\t\tcase 'Escape':\r\n\t\t\t\tthis.hidePicker()\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.#log(`event:${event.type}`, this.#$root.activeElement)\r\n\t}\r\n\r\n\t#listenMutations(): this {\r\n\t\tthis.#observer?.disconnect()\r\n\r\n\t\tthis.#observer = new MutationObserver((mutationList) =>\r\n\t\t\tmutationList.forEach((mutation) => {\r\n\t\t\t\tif (mutation.type === 'attributes') {\r\n\t\t\t\t\tconst { attributeName } = mutation\r\n\t\t\t\t\tconst attributeValue = attributeName\r\n\t\t\t\t\t\t? (mutation.target as HTMLElement).getAttribute(\r\n\t\t\t\t\t\t\tattributeName,\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t: null\r\n\r\n\t\t\t\t\tif (attributeName && attributeValue) {\r\n\t\t\t\t\t\tthis.setAttribute(attributeName, attributeValue)\r\n\t\t\t\t\t} else if (attributeName) {\r\n\t\t\t\t\t\tthis.removeAttribute(attributeName)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t)\r\n\r\n\t\tthis.#observer.observe(this.#$listbox, {\r\n\t\t\tattributes: true,\r\n\t\t\tattributeFilter: ['aria-activedescendant', 'aria-owns'],\r\n\t\t})\r\n\r\n\t\treturn this\r\n\t}\r\n\r\n\t#log(label: string, ...args) {\r\n\t\tconsole.groupCollapsed(`SelectField: ${label}`)\r\n\t\targs.length > 0 && console.log('Arguments: ', args)\r\n\t\tconsole.debug(this.#internals)\r\n\t\tconsole.dir(this)\r\n\t\tconsole.groupEnd()\r\n\t}\r\n\r\n\t#passEventAlong(shadowEvent: InputEvent): this {\r\n\t\tconst { bubbles, data, type } = shadowEvent\r\n\t\tconst EventConstructor = Object.getPrototypeOf(shadowEvent).constructor\r\n\t\tconst event = new EventConstructor(type, { bubbles, data })\r\n\t\tthis.dispatchEvent(event)\r\n\t\treturn this\r\n\t}\r\n}\r\n\r\ncustomElements.define(SelectField.tagName, SelectField)\r\n\r\nexport { ListboxElement, SelectField }\r\nexport default customElements.get(SelectField.tagName)\r\n"],"names":["template"],"mappings":"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","x_google_ignoreList":[0]}