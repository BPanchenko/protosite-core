!function(){"use strict";var t={6:function(t,e){e.A=function(t){const{$template:e,template:i,delegatesFocus:n=!1,mode:s="closed",serializable:a=!1}=t,r=this.attachShadow({delegatesFocus:n,mode:s,serializable:a});return e instanceof DocumentFragment&&r.appendChild(e.cloneNode(!0)),"string"==typeof i&&r.setHTMLUnsafe(i),r}},148:function(t,e,i){var n=i(947);e.A=function(t,e,i){return((0,n.A)(e)?Object.entries(e):[[e,i]]).forEach((e=>{let[i,n]=e;const s=String(i);if(null===n)t.removeAttribute(s);else if(n instanceof Attr)t.setAttributeNode(n);else{const e=t.getAttributeNode(s),i=String(n);null!==e?e.value=i:t.setAttribute(s,i)}})),new Map(t.getAttributeNames().sort().map((e=>[e,t.getAttributeNode(e)])))}},252:function(t,e){var i=function(t){return t.Animation="--animating",t.Collapsed="--collapsed",t.Defined="--defined",t.Disabled="--disabled",t.Expanded="--expanded",t.Interactive="--interactive",t.Loaded="--loaded",t.Scrolled="--scrolled",t}(i||{});e.A=i},433:function(t,e,i){e.A=t=>"string"==typeof t?["on","true"].includes(t.trim().toLocaleLowerCase()):Boolean(t)},899:function(t,e,i){e.A=t=>"string"==typeof t?["off","false"].includes(t.trim().toLocaleLowerCase()):!1===Boolean(t)},947:function(t,e){e.A=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,i),a.exports}i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var n=i(899),s=i(433);var a=i(6),r=i(148),o=i(252);class l extends HTMLElement{#t=-1;#e=-1;#i=-1;#n=this.attachInternals();#s=(()=>new Map)();#a=null;#r;#o;#l;ariaActiveDescendantElement=null;static formAssociated=!0;static role="listbox";static tagName="e-listbox";static observedAttributes=["aria-activedescendant","aria-disabled","aria-multiselectable","aria-required"];static initAttributes(t){const e={"aria-orientation":t.ariaOrientation??"vertical",exportparts:"container",role:this.role};return(0,r.A)(t,e)}static initAccessibilityTree(t,e){e.ariaAtomic="true",e.ariaLive="polite",e.role=this.role,e.ariaDisabled=(0,s.A)(t.ariaDisabled).toString(),e.ariaOrientation=t.ariaOrientation,e.ariaMultiSelectable=(0,s.A)(t.ariaMultiSelectable).toString(),e.ariaRequired=(0,s.A)(t.ariaRequired).toString()}constructor(){super(),a.A.call(this,{template:"<style type=\"text/css\">:host::part(container) {\n\tdisplay: block;\n\toverflow: hidden;\n}\n\n:host([aria-hidden='true'])::part(container) {\n\tvisibility: hidden;\n}\n\n:host(:not([aria-hidden='true']):state(--scrolled))::part(container) {\n\tscroll-behavior: smooth;\n\tscroll-snap-stop: always;\n\toverflow: visible;\n}\n\n:host([aria-orientation='vertical']:not([aria-hidden='true']):state(--scrolled))::part(container) {\n\toverflow: hidden scroll;\n}\n\n:host([aria-orientation='horizontal']:not([aria-hidden='true']):state(--scrolled))::part(container) {\n\toverflow: scroll hidden;\n}\n</style><slot part=\"container\"></slot>"}),l.initAttributes(this),this.#c(),this.#h.add(o.A.Defined)}attributeChangedCallback(t,e,i){if(!1===this.isConnected)return;if(e===i)return;const n=this.#s.has(i)&&this.#s.get(i)?.$ref.deref()||null,a=(0,s.A)(i);switch(t){case"aria-activedescendant":this.#n.ariaActiveDescendantElement=n;break;case"aria-disabled":a?(this.#h.add(o.A.Disabled),this.#o?.abort()):this.#h.delete(o.A.Disabled),this.#n.ariaDisabled=i;break;case"aria-multiselectable":this.#n.ariaMultiSelectable=a.toString();break;case"aria-required":this.#n.ariaRequired=a.toString()}}connectedCallback(){l.initAttributes(this),l.initAccessibilityTree(this,this.#n),this.#d()}disconnectedCallback(){this.#o?.abort(),this.#r?.abort(),this.#l?.abort()}formAssociatedCallback(t){}formDisabledCallback(t){}formResetCallback(){this.selectedIndex=this.#i}formStateRestoreCallback(t,e){}findByValue(t){for(const[e,i]of this.#s)if(t===i.value)return i;return null}search(t){const e=new Set;for(const[i,n]of this.#s)0!==n.label?.indexOf(t)&&0!==n.value?.indexOf(t)||e.add(n);return e.size>0?e:null}select(t){let e;if(t instanceof HTMLElement)e=t;else if("string"==typeof t){const i=this.#s.get(t);void 0!==i&&(e=i.$ref.deref())}return void 0!==e&&this.#u(e)}shift(t){return this.activeIndex=((this.#t+t)%this.length+this.length)%this.length,this}updateScrollbar(){const t="vertical"===this.#n.ariaOrientation,e=t?this.#f.clientHeight:this.#f.clientWidth;(t?this.#f.scrollHeight:this.#f.scrollWidth)>e?this.#h.add(o.A.Scrolled):this.#h.delete(o.A.Scrolled)}#b(t){const e={"aria-selected":t.ariaSelected??"false",id:t.id};return!1===Boolean(e.id)&&(e.id=(t=>{const{prefix:e,suffix:i,length:n=6,checklist:s}=t??{};let a;do{a="";for(let t=0;t<n;t++)a+="abekmhopctyx123456789".charAt(21*Math.random()|0);e&&(a=e+"-"+a),i&&(a+="-"+i)}while(s?.includes(a));return a})({prefix:"option",checklist:this.#a})),t.onclick=t=>this.#p(t),(0,r.A)(t,e)}#v(){return this.selectedIndex=this.#i=this.options.findIndex((t=>(0,s.A)(t.$ref.deref()?.getAttribute("aria-selected")))),this}#u(t){if(void 0!==t){const e=t.getAttributeNode("aria-selected");return!(null===e||!(0,n.A)(e.value)||(e.value="true",0))}return!1}#g(t){if(t instanceof HTMLElement)return t.setAttribute("aria-selected","false"),!0;const e=this.selectedOptions;return!!(e&&e.length>0)&&(this.selectedOptions.forEach((t=>t.setAttribute("aria-selected","false"))),!0)}get activeIndex(){return this.#t}set activeIndex(t){const e=(t%this.length+this.length)%this.length,i=this.options,n=this.#t;n>=0&&i[n].$ref.deref()?.setAttribute("aria-current","false");const s=i[e].$ref.deref();if(void 0===s)throw this.#t=-1,this.removeAttribute("aria-activedescendant"),new Error(`The option element by index ${e} is lost and cannot be activated!`);this.#t=e,this.setAttribute("aria-activedescendant",s.id),s.setAttribute("aria-current","true"),this.#h.has(o.A.Scrolled)&&s.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}get disabled(){return this.#n.states.has(o.A.Disabled)&&(0,s.A)(this.#n.ariaDisabled)&&(0,s.A)(this.ariaDisabled)}get length(){return this.#s.size}get multiple(){return(0,s.A)(this.ariaMultiSelectable)}get options(){return Array.from(this.#s.values())}get selectedIndex(){return this.#e}set selectedIndex(t){const e=-1===this.selectedIndex?null:this.options[this.selectedIndex].value;let i;if(this.dispatchEvent(new InputEvent("beforeinput",{bubbles:!0,data:e})),-1===t)i=t,this.#g();else{i=(t%this.length+this.length)%this.length,!1===this.multiple&&this.#g();const e=this.options[i].$ref.deref();this.#u(e)}this.#e=i;const n=-1===i?null:this.options[i].value;this.dispatchEvent(new InputEvent("input",{bubbles:!0,data:n}))}get selectedOptions(){const t=[];for(const{$ref:e}of this.#s.values()){const i=e.deref();if(i&&(0,s.A)(i.ariaSelected)&&(t.push(i),!1===this.multiple))return t}return t.length>0?t:null}get value(){const t=this.selectedOptions?.map((t=>this.#s.get(t.id)?.value)).filter((t=>"string"==typeof t));return t?this.multiple?t:t[0]:null}get#h(){return this.#n.states}get#f(){return this.#n.shadowRoot?.querySelector("[part=container]")}#c(){return this.#l?.abort(),this.#l=new AbortController,this.addEventListener("slotchange",(t=>{const e=t.target.assignedElements({flatten:!0});this.#s.clear(),e.forEach((t=>{if("option"===t.role){this.#b(t);const e={$ref:new WeakRef(t),label:t.ariaLabel||t.textContent,value:t.dataset.value??t.getAttribute("value")};this.#s.set(t.id,e)}})),this.#s.size>0?(this.#a=Array.from(this.#s.keys()),this.setAttribute("aria-owns",this.#a.join(" "))):(this.#a=null,this.removeAttribute("aria-owns")),this.#v()}),{signal:this.#l.signal}),this.#l}#d(){this.#r?.abort(),this.#r=new AbortController;const t={signal:this.#r.signal};return this.addEventListener("focus",(t=>this.#A(t)),t),this.addEventListener("blur",(t=>this.#m(t)),t),this.#r}#m(t){this.#o?.abort()}#A(t){this.#x()}#x(){this.#o?.abort(),this.#o=new AbortController;const t={signal:this.#o.signal};return this.addEventListener("click",(t=>this.#p(t)),t),this.addEventListener("keydown",(t=>this.#I(t)),t),this.#o}#p(t){t.stopPropagation();const e=t.currentTarget;this.selectedIndex=this.activeIndex=this.#a?.indexOf(e.id)??-1}#I(t){switch(t.key){case"Enter":this.selectedIndex=this.activeIndex,t.stopPropagation();break;case"Space":this.selectedIndex,this.activeIndex,this.selectedIndex=this.activeIndex;break;case"End":this.activeIndex=this.length-1;break;case"Home":this.activeIndex=0;break;case"ArrowUp":this.#t&&(t.altKey?this.activeIndex=0:this.shift(-1),t.stopPropagation()),t.preventDefault();break;case"ArrowDown":t.altKey?this.activeIndex=this.length-1:this.shift(1),t.preventDefault();break;default:return void/\w+/.test(t.key)}}}customElements.define(l.tagName,l),customElements.get(l.tagName)}();